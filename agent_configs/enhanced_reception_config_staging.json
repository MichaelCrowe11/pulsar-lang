{
  "name": "Dealer Logic Reception - Enhanced (Staging)",
  "conversation_config": {
    "asr": {
      "quality": "high",
      "provider": "elevenlabs",
      "user_input_audio_format": "pcm_16000",
      "keywords": []
    },
    "turn": {
      "turn_timeout": 7,
      "silence_end_call_timeout": -1,
      "mode": "turn"
    },
    "tts": {
      "model_id": "eleven_turbo_v2",
      "voice_id": "cjVigY5qzO86Huf0OWal",
      "supported_voices": [],
      "agent_output_audio_format": "pcm_16000",
      "optimize_streaming_latency": 3,
      "stability": 0.5,
      "speed": 1,
      "similarity_boost": 0.8,
      "pronunciation_dictionary_locators": []
    },
    "conversation": {
      "text_only": false,
      "max_duration_seconds": 600,
      "client_events": [
        "audio",
        "interruption"
      ]
    },
    "language_presets": {},
    "agent": {
      "first_message": "Thanks for calling. This call may be recorded. How can I help you—sales, service, or parts?",
      "language": "en",
      "dynamic_variables": {
        "dynamic_variable_placeholders": {}
      },
      "prompt": {
        "prompt": "You are Dealer Logic—professional, concise, friendly. Greet, disclose recording, then identify intent in ≤2 turns. Use lookup_customer_info tool to check for existing customers by phone number. Use sentiment_monitor to track customer satisfaction throughout the call. Confirm callback number and ZIP. For service: collect VIN/plate/mileage/concern. For sales: vehicle of interest (VIN/stock if known), budget/timeline, trade-in basics. Summarize collected information, then use route_call tool to transfer to appropriate department with full context. Offer Spanish if caller signals it. Never invent availability or prices—use tools only. If customer shows frustration or uses escalation keywords, escalate immediately using priority 'urgent'.",
        "llm": "gemini-2.0-flash",
        "temperature": 0.3,
        "max_tokens": 1000,
        "tools": [
          {
            "type": "webhook",
            "name": "lookup_customer_info",
            "description": "Look up existing customer information by phone number or email",
            "url": "https://api.dealership.com/v2/customers/lookup",
            "method": "POST",
            "headers": {
              "Authorization": "Bearer {{DEALER_API_KEY}}",
              "Content-Type": "application/json"
            },
            "parameters": {
              "type": "object",
              "properties": {
                "phone": {
                  "type": "string",
                  "description": "Customer phone number"
                },
                "email": {
                  "type": "string",
                  "description": "Customer email address"
                }
              }
            },
            "timeout_ms": 3000
          },
          {
            "type": "webhook",
            "name": "route_call",
            "description": "Route call to appropriate department with context",
            "url": "https://api.dealership.com/v2/routing/transfer",
            "method": "POST",
            "headers": {
              "Authorization": "Bearer {{DEALER_API_KEY}}",
              "Content-Type": "application/json"
            },
            "parameters": {
              "type": "object",
              "properties": {
                "department": {
                  "type": "string",
                  "enum": ["sales", "service", "parts", "finance"],
                  "description": "Target department"
                },
                "customer_context": {
                  "type": "object",
                  "description": "Customer information and conversation context"
                },
                "priority": {
                  "type": "string",
                  "enum": ["normal", "high", "urgent"],
                  "description": "Call priority level"
                }
              },
              "required": ["department"]
            },
            "timeout_ms": 3000
          },
          {
            "type": "client",
            "name": "sentiment_monitor",
            "description": "Monitor customer sentiment and escalate if needed",
            "parameters": {
              "negative_threshold": -0.6,
              "escalation_keywords": ["angry", "frustrated", "manager", "complaint"],
              "auto_escalate": true
            }
          }
        ],
        "tool_ids": [],
        "mcp_server_ids": [],
        "native_mcp_server_ids": [],
        "knowledge_base": [],
        "ignore_default_personality": false,
        "rag": {
          "enabled": true,
          "embedding_model": "e5_mistral_7b_instruct",
          "max_vector_distance": 0.4,
          "max_documents_length": 100000,
          "max_retrieved_rag_chunks_count": 30
        },
        "custom_llm": null
      }
    }
  },
  "platform_settings": {
    "auth": {
      "enable_auth": false,
      "allowlist": [],
      "shareable_token": null
    },
    "evaluation": {
      "criteria": []
    },
    "widget": {
      "variant": "full",
      "placement": "bottom-right",
      "expandable": "never",
      "avatar": {
        "type": "orb",
        "color_1": "#2792dc",
        "color_2": "#9ce6e6"
      },
      "feedback_mode": "none"
    }
  }
}